language: cpp
compiler: gcc
os: linux
dist: trusty
addons:
  apt:
    update: true
  
env:
  global:
    - EMSCRIPTEN_VERSION=1.37.26

install: skip

before_install:
  - cd $TRAVIS_BUILD_DIR
  - cd libheif
  - ./scripts/install-ci-linux.sh

before_script:
  - cd $TRAVIS_BUILD_DIR
  - cd libheif
  - ./scripts/prepare-ci.sh

script:
  - cd $TRAVIS_BUILD_DIR
  - cd libheif
  - ./scripts/run-ci.sh
  - ls -la
